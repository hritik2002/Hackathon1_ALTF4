import React,{useState} from "react";
import "./SignedIn.css";
import firebase from "@firebase/app-compat";
import { Link } from "react-router-dom";
import { useHistory } from "react-router";

const SignedIn  = (props)=> {
    const [click,setClick] = useState(false);
    const user = firebase.auth().currentUser
    const history = useHistory();


    const onProfileClick = ()=>{
        setClick(!click);
    }

    const handleLogoClick=()=>{
        history.push("/");
    }
    

    return(
        <div className="SignedIn_nav">
            <div className="SignedIn_left" onClick={handleLogoClick} >
                <svg width="255" height="84" viewBox="0 0 255 84" fill="none" xmlns="http://www.w3.org/2000/svg" className="svg">
                    <path d="M35.0091 42.11C34.5757 43.8433 33.3624 44.71 31.3691 44.71C28.5091 44.71 24.2624 43.15 18.6291 40.03C13.0391 36.91 7.8174 33.465 2.96406 29.695C3.35406 29.4783 5.30406 28.525 8.81406 26.835C12.3674 25.145 14.7724 23.975 16.0291 23.325C17.3291 22.675 19.2791 21.6567 21.8791 20.27C26.6024 17.8433 30.2207 15.6767 32.7341 13.77C34.4241 14.2467 35.2691 15.2433 35.2691 16.76C35.2691 18.2333 33.6441 20.075 30.3941 22.285C27.1441 24.4517 22.5291 27.1383 16.5491 30.345C22.4857 35.5017 28.6391 39.4233 35.0091 42.11ZM40.5285 46.79C43.2585 44.19 46.1618 40.03 49.2385 34.31C51.3185 30.41 52.6185 27.9617 53.1385 26.965C53.7018 25.925 55.3051 22.5017 57.9485 16.695C60.6351 10.8883 62.2168 7.53 62.6935 6.62C64.2101 3.84667 66.1168 2.46 68.4135 2.46C70.7101 2.46 72.4435 3.28333 73.6135 4.93C70.7101 8.35333 66.8751 14.8317 62.1085 24.365C61.6318 25.3183 60.5485 27.5067 58.8585 30.93C54.7418 39.1633 52.3151 43.9083 51.5785 45.165C49.9318 47.9817 47.9601 49.39 45.6635 49.39C43.4101 49.39 41.6985 48.5233 40.5285 46.79ZM219.997 16.37C220.43 14.6367 221.643 13.77 223.637 13.77C226.497 13.77 230.722 15.33 236.312 18.45C241.945 21.57 247.188 25.015 252.042 28.785C251.652 29.0017 249.68 29.955 246.127 31.645C242.617 33.335 240.212 34.505 238.912 35.155C237.655 35.805 235.705 36.8233 233.062 38.21C228.382 40.6367 224.785 42.8033 222.272 44.71C220.582 44.2333 219.737 43.2583 219.737 41.785C219.737 40.2683 221.362 38.4267 224.612 36.26C227.862 34.05 232.477 31.3417 238.457 28.135C232.52 22.9783 226.367 19.0567 219.997 16.37Z" fill="#FF2E63"/>
                    <path d="M109.296 18.385C108.126 23.3683 107.541 28.3733 107.541 33.4C107.541 38.3833 108.104 43.3233 109.231 48.22C107.671 48.74 106.068 49 104.421 49C102.774 49 101.626 48.5233 100.976 47.57C100.326 46.5733 100.001 45.165 100.001 43.345C100.001 41.4817 100.283 38.9467 100.846 35.74C97.7693 42.3267 94.8009 46.4867 91.9409 48.22C90.6409 49 89.2976 49.39 87.9109 49.39C84.6176 49.39 82.0609 48.1767 80.2409 45.75C78.4209 43.28 77.5109 40.225 77.5109 36.585C77.5109 31.0383 79.0493 26.185 82.1259 22.025C85.2026 17.8217 89.1893 15.72 94.0859 15.72C99.0259 15.72 104.096 16.6083 109.296 18.385ZM100.781 22.285C98.4843 21.5917 96.5343 21.245 94.9309 21.245C91.6809 21.245 89.2543 21.96 87.6509 23.39C86.1776 27.03 85.4409 30.735 85.4409 34.505C85.4409 36.4983 85.7443 38.5133 86.3509 40.55C87.0009 42.5867 87.9759 43.605 89.2759 43.605C90.7926 43.605 92.7426 41.3733 95.1259 36.91C97.5093 32.4467 99.3943 27.5717 100.781 22.285ZM115.726 1.03C117.113 0.509997 118.543 0.249996 120.016 0.249996C121.489 0.249996 122.703 0.74833 123.656 1.745C124.653 2.69833 125.151 4.02 125.151 5.71C125.151 7.35667 124.913 10.6933 124.436 15.72C124.003 20.7033 123.786 24.625 123.786 27.485C123.786 34.5483 124.284 41.46 125.281 48.22C123.894 48.74 122.421 49 120.861 49C117.524 49 115.856 47.375 115.856 44.125C115.856 42.565 116.094 39.51 116.571 34.96C117.048 30.3667 117.286 26.6833 117.286 23.91C117.286 14.68 116.766 7.05333 115.726 1.03ZM135.002 6.555C136.389 5.86166 137.797 5.515 139.227 5.515C140.657 5.515 141.805 5.97 142.672 6.88C143.582 7.79 144.037 9.13333 144.037 10.91C144.037 12.6867 143.929 14.7017 143.712 16.955C146.962 16.955 150.06 16.5 153.007 15.59C153.527 16.4567 153.787 17.475 153.787 18.645C153.787 19.7717 153.267 20.7033 152.227 21.44C151.23 22.1333 150.212 22.48 149.172 22.48C148.132 22.48 146.962 22.35 145.662 22.09C144.362 21.83 143.517 21.6783 143.127 21.635C143.084 22.025 142.954 22.805 142.737 23.975C142.564 25.145 142.412 26.1633 142.282 27.03C141.935 29.4133 141.762 31.97 141.762 34.7C141.762 40.6367 143.69 43.605 147.547 43.605C148.977 43.605 150.624 43.1067 152.487 42.11C153.05 42.9333 153.332 43.995 153.332 45.295C153.332 46.595 152.617 47.6133 151.187 48.35C149.8 49.0433 148.132 49.39 146.182 49.39C138.555 49.39 134.742 45.0567 134.742 36.39C134.742 35.1333 134.915 32.8583 135.262 29.565C135.652 26.2717 135.847 23.6067 135.847 21.57C133.767 21.7 132.099 22.0683 130.842 22.675C130.322 21.895 130.062 21.0067 130.062 20.01C130.062 18.97 130.43 18.125 131.167 17.475C131.904 16.7817 132.814 16.435 133.897 16.435C134.98 16.435 135.695 16.4567 136.042 16.5C136.085 16.1533 136.107 15.6983 136.107 15.135C136.107 11.885 135.739 9.025 135.002 6.555ZM161.491 38.405C161.491 37.625 161.296 32.555 160.906 23.195C158.783 23.325 157.093 23.6933 155.836 24.3C155.316 23.3467 155.056 22.35 155.056 21.31C155.056 20.27 155.425 19.425 156.161 18.775C156.898 18.0817 157.765 17.735 158.761 17.735C159.758 17.735 160.473 17.7567 160.906 17.8C161.123 12.9033 162.791 8.765 165.911 5.385C169.031 1.96166 172.953 0.249996 177.676 0.249996C180.32 0.249996 182.551 0.81333 184.371 1.94C186.191 3.06667 187.101 4.735 187.101 6.945C187.101 8.505 186.516 9.82667 185.346 10.91C184.176 11.9933 182.79 12.535 181.186 12.535C180.84 12.535 180.406 12.4917 179.886 12.405C180.016 11.8417 180.081 11.3433 180.081 10.91C180.081 9.39333 179.756 8.18 179.106 7.27C178.456 6.31666 177.308 5.84 175.661 5.84C174.015 5.84 172.498 6.31666 171.111 7.27C170.245 8.44 169.551 10.065 169.031 12.145C168.511 14.225 168.251 16.2617 168.251 18.255H169.746C172.606 18.255 176.008 17.8 179.951 16.89C180.471 17.7567 180.731 18.7967 180.731 20.01C180.731 21.18 180.233 22.155 179.236 22.935C178.24 23.715 176.983 24.105 175.466 24.105C175.423 24.105 172.975 23.8017 168.121 23.195L168.771 56.995C168.771 59.8117 167.103 61.22 163.766 61.22C162.64 61.22 161.166 60.96 159.346 60.44C160.776 54.7633 161.491 47.4183 161.491 38.405ZM209.182 48.61C207.795 49.13 206.365 49.39 204.892 49.39C203.462 49.39 202.292 48.935 201.382 48.025C200.515 47.0717 200.082 45.7717 200.082 44.125C200.082 43.6917 200.233 41.5033 200.537 37.56C193.56 37.4733 188.88 37.3 186.497 37.04C183.203 36.6933 181.557 35.0683 181.557 32.165C187.797 22.6317 193.907 14.68 199.887 8.31C201.273 6.75 202.833 5.97 204.567 5.97C206.343 5.97 207.903 6.18666 209.247 6.62C208.293 13.12 207.817 21.1583 207.817 30.735C209.593 30.3883 211.457 29.89 213.407 29.24C213.71 30.1933 213.862 31.385 213.862 32.815C213.862 34.245 213.342 35.415 212.302 36.325C211.262 37.235 209.81 37.69 207.947 37.69C208.163 42.0667 208.575 45.7067 209.182 48.61ZM188.772 31.255C190.895 31.645 193.062 31.84 195.272 31.84C197.525 31.84 199.41 31.775 200.927 31.645C201.23 28.8283 201.382 25.73 201.382 22.35C201.382 18.9267 201.317 16.4567 201.187 14.94C197.937 18.32 193.798 23.7583 188.772 31.255Z" fill="#25478B"/>
                    <path d="M45.5859 70.7339C45.5859 73.1704 46.6675 74.3887 48.8306 74.3887C50.9399 74.3887 51.9946 73.1704 51.9946 70.7339C51.9946 68.3364 50.9399 67.1377 48.8306 67.1377C46.6675 67.1377 45.5859 68.3364 45.5859 70.7339ZM43.5718 70.7778C43.5718 67.228 45.3247 65.4531 48.8306 65.4531C52.2827 65.4531 54.0088 67.228 54.0088 70.7778C54.0088 74.3081 52.2827 76.0732 48.8306 76.0732C45.481 76.0732 43.728 74.3081 43.5718 70.7778ZM55.8472 76V65.5264H57.7881L63.3179 73.1582V65.5264H65.1855V76H63.2446L57.7148 68.207V76H55.8472ZM74.5605 65.5264V67.1963H69.3164V69.833H74.3115V71.5688H69.2944V74.3154H74.6631V76H67.3901V65.5264H74.5605ZM79.5703 75.5605V73.8027C80.6201 74.1934 81.8066 74.3887 83.1299 74.3887C84.7363 74.3887 85.5396 73.8516 85.5396 72.7773C85.5396 71.9961 85.0464 71.6055 84.0601 71.6055H82.4194C80.2759 71.6055 79.2041 70.6289 79.2041 68.6758C79.2041 66.5273 80.73 65.4531 83.7817 65.4531C84.9536 65.4531 86.0645 65.624 87.1143 65.9658V67.7236C86.0645 67.333 84.9536 67.1377 83.7817 67.1377C82.0239 67.1377 81.145 67.6504 81.145 68.6758C81.145 69.457 81.5698 69.8477 82.4194 69.8477H84.0601C86.3403 69.8477 87.4805 70.8242 87.4805 72.7773C87.4805 74.9746 86.0303 76.0732 83.1299 76.0732C81.8066 76.0732 80.6201 75.9023 79.5703 75.5605ZM95.9766 65.5264V67.2109H92.9736V76H91.0327V67.2109H88.0298V65.5264H95.9766ZM98.7305 70.7339C98.7305 73.1704 99.812 74.3887 101.975 74.3887C104.084 74.3887 105.139 73.1704 105.139 70.7339C105.139 68.3364 104.084 67.1377 101.975 67.1377C99.812 67.1377 98.7305 68.3364 98.7305 70.7339ZM96.7163 70.7778C96.7163 67.228 98.4692 65.4531 101.975 65.4531C105.427 65.4531 107.153 67.228 107.153 70.7778C107.153 74.3081 105.427 76.0732 101.975 76.0732C98.6255 76.0732 96.8726 74.3081 96.7163 70.7778ZM108.992 76V65.5264H113.679C115.818 65.5264 116.887 66.5103 116.887 68.478C116.887 70.6118 115.425 71.9033 112.5 72.3525L112.222 70.624C113.979 70.3066 114.858 69.6108 114.858 68.5366C114.858 67.6675 114.424 67.2329 113.555 67.2329H110.933V76H108.992ZM120.3 74.645L119.202 77.8311H117.261L118.359 74.645H120.3ZM131.763 65.5264V67.1963H126.812V69.833H131.514V71.5688H126.79V76H124.885V65.5264H131.763ZM133.411 71.8838V65.5264H135.352V71.8838C135.352 73.5537 136.206 74.3887 137.915 74.3887C139.624 74.3887 140.479 73.5537 140.479 71.8838V65.5264H142.419V71.8838C142.419 74.6768 140.918 76.0732 137.915 76.0732C134.912 76.0732 133.411 74.6768 133.411 71.8838ZM146.558 65.5264V74.3154H150.718V76H144.617V65.5264H146.558ZM154.497 65.5264V74.3154H158.657V76H152.556V65.5264H154.497ZM163.608 75.5605V73.8027C164.658 74.1934 165.845 74.3887 167.168 74.3887C168.774 74.3887 169.578 73.8516 169.578 72.7773C169.578 71.9961 169.084 71.6055 168.098 71.6055H166.458C164.314 71.6055 163.242 70.6289 163.242 68.6758C163.242 66.5273 164.768 65.4531 167.82 65.4531C168.992 65.4531 170.103 65.624 171.152 65.9658V67.7236C170.103 67.333 168.992 67.1377 167.82 67.1377C166.062 67.1377 165.183 67.6504 165.183 68.6758C165.183 69.457 165.608 69.8477 166.458 69.8477H168.098C170.378 69.8477 171.519 70.8242 171.519 72.7773C171.519 74.9746 170.068 76.0732 167.168 76.0732C165.845 76.0732 164.658 75.9023 163.608 75.5605ZM180.015 65.5264V67.2109H177.012V76H175.071V67.2109H172.068V65.5264H180.015ZM182.197 76H180.205L184.651 65.5264H186.738L191.279 76H189.192L187.998 73.1436H184.519L185.186 71.459H187.295L185.647 67.5259L182.197 76ZM200.911 75.5605C200.007 75.9023 198.982 76.0732 197.834 76.0732C194.075 76.0732 192.195 74.2544 192.195 70.6167C192.195 67.1743 194.075 65.4531 197.834 65.4531C198.982 65.4531 200.007 65.624 200.911 65.9658V67.7236C200.007 67.333 199.031 67.1377 197.981 67.1377C195.466 67.1377 194.209 68.2974 194.209 70.6167C194.209 73.1313 195.466 74.3887 197.981 74.3887C199.031 74.3887 200.007 74.1934 200.911 73.8027V75.5605ZM204.683 65.5264V76H202.742V65.5264H204.683ZM212.051 65.5264L207.583 70.4116L212.52 76H209.832L205.781 71.1074V69.8477L209.678 65.5264H212.051Z" fill="#FF2E63"/>
                </svg>
            </div>
            <div className="SignedIn_right">
                <Link exact to="/tutorial" className="SignedIn_EditorLink">
                    Tutorial
                </Link>
                <Link exact to="/EditorFinal" className="SignedIn_EditorLink">
                    Editor
                </Link>
                <Link exact to="/Projects" className="SignedIn_EditorLink">
                    Projects
                </Link>
                <div className="SignedIn_profile" onClick={onProfileClick} >
                    <img src={user.photoURL} alt="" />
                </div>
                {click&&<div className="profileClick">
                    <h4>{user.displayName || user.email.slice(0,user.email.length-10,1)}</h4>
                    <button  
                        onClick={()=>props.LogoutFn()}
                    >Log Out</button>
                </div>}
            </div>
        </div>
    )
}

export default SignedIn;